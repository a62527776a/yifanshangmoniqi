(function(t){function e(e){for(var r,a,l=e[0],u=e[1],i=e[2],b=0,f=[];b<l.length;b++)a=l[b],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);s&&s(e);while(f.length)f.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var t,e=0;e<c.length;e++){for(var n=c[e],r=!0,l=1;l<n.length;l++){var u=n[l];0!==o[u]&&(r=!1)}r&&(c.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},o={app:0},c=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="https://a62527776a.github.io/yifanshangmoniqi/dist/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var i=0;i<l.length;i++)e(l[i]);var s=u;c.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("cd49")},"11a1":function(t,e,n){"use strict";n("ffcb")},"5f27":function(t,e,n){"use strict";n("e7ef")},cd49:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o=(n("ac1f"),Object(r["e"])("div",null,"初始干预概率：",-1)),c=Object(r["e"])("div",null,"干预概率倍率： (0不干预)",-1);function a(t,e,n,a,l,u){var i=Object(r["l"])("HelloWorld");return Object(r["h"])(),Object(r["d"])(r["a"],null,[o,Object(r["o"])(Object(r["e"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return a.GKScale=t}),type:"number"},null,512),[[r["n"],a.GKScale]]),c,Object(r["o"])(Object(r["e"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return a.概率倍率=t})},null,512),[[r["n"],a.概率倍率]]),Object(r["e"])("button",{onClick:e[2]||(e[2]=function(){return a.exec&&a.exec.apply(a,arguments)}),type:"button",class:"btn btn-primary"},"执行50次"),(Object(r["h"])(),Object(r["d"])(r["a"],null,Object(r["k"])(50,(function(t){return Object(r["g"])(i,{ref_for:!0,ref:"doms",GKScale:a.GKScale,"概率倍率":a.概率倍率,key:t},null,8,["GKScale","概率倍率"])})),64))],64)}var l=n("1da1"),u=(n("96cf"),n("d3b7"),n("a1e9")),i=(n("b0c0"),function(t){return Object(r["j"])("data-v-562c9dc7"),t=t(),Object(r["i"])(),t}),s={class:"hello"},b=i((function(){return Object(r["e"])("h2",null,"一番赏模拟器",-1)})),f=i((function(){return Object(r["e"])("div",null,"初始干预概率：",-1)})),d=i((function(){return Object(r["e"])("div",null,"干预概率倍率： (0不干预)",-1)})),h=["onClick"],O=i((function(){return Object(r["e"])("br",null,null,-1)})),p=i((function(){return Object(r["e"])("br",null,null,-1)}));function j(t,e,n,o,c,a){return Object(r["h"])(),Object(r["d"])("div",s,[b,f,Object(r["o"])(Object(r["e"])("input",{"onUpdate:modelValue":e[0]||(e[0]=function(t){return o.a.lotteryDraw.GKScale=t}),type:"number"},null,512),[[r["n"],o.a.lotteryDraw.GKScale]]),d,Object(r["o"])(Object(r["e"])("input",{"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.a.lotteryDraw.概率倍率=t})},null,512),[[r["n"],o.a.lotteryDraw.概率倍率]]),Object(r["e"])("div",null,"总计："+Object(r["m"])(o.a.total)+"剩余："+Object(r["m"])(o.a.len),1),(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["k"])(o.a.slots,(function(t,e){return Object(r["h"])(),Object(r["d"])("div",{key:e},[Object(r["e"])("a",null,Object(r["m"])(t.name)+" "+Object(r["m"])(t.good.name),1),Object(r["f"])("x"+Object(r["m"])(t.count)+" ",1),Object(r["e"])("span",null,"几率："+Object(r["m"])(o.a.scale(t.type).scaleStr),1),Object(r["e"])("i",{onClick:function(e){return o.addItem(t.type)}},"   + 添加",8,h)])})),128)),Object(r["e"])("div",null,[Object(r["e"])("a",null,Object(r["m"])(o.a.last.name)+" "+Object(r["m"])(o.a.last.good.name),1)]),Object(r["e"])("div",null,[O,Object(r["e"])("div",null,"箱子初始预期：预期出手办概率"+Object(r["m"])(o.a.lotteryDraw.scaleStr)+" 预期每"+Object(r["m"])(o.a.lotteryDraw.everyOutGood)+"发出一手办",1),Object(r["e"])("div",null,"每次不出手办将叠加几率"+Object(r["m"])(o.a.lotteryDraw.everyOutGoodScaleStr),1)]),Object(r["e"])("div",null," 当前中手办叠加几率 "+Object(r["m"])(o.a.lotteryDraw.GKScaleStr)+" 每次抽完后将按照叠加几率增减 ",1),p,Object(r["e"])("button",{onClick:e[2]||(e[2]=function(){return o.loop80&&o.loop80.apply(o,arguments)}),type:"button",class:"btn btn-primary"},"来一发"),Object(r["e"])("button",{onClick:e[3]||(e[3]=function(){return o.refresh&&o.refresh.apply(o,arguments)}),type:"button",class:"btn btn-primary"},"刷新"),Object(r["e"])("div",null,[(Object(r["h"])(!0),Object(r["d"])(r["a"],null,Object(r["k"])(o.a.lotteryDraw.records,(function(t,e){return Object(r["h"])(),Object(r["d"])("div",{key:"wdwdw"+e},[t.indexOf("手办")>-1?(Object(r["h"])(),Object(r["d"])("div",{key:"qwdqwd"+t},"您在"+Object(r["m"])(e)+"次"+Object(r["m"])(t),1)):Object(r["c"])("",!0)])})),128))])])}n("a9e3");var y,v,m=n("b85c"),w=n("d4ec"),S=n("bee2");n("25f0"),n("4ec9"),n("3ca3"),n("ddb0"),n("159b"),n("b680"),n("99af");(function(t){t["时尚小垃圾"]="时尚小垃圾",t["手办"]="手办"})(y||(y={})),function(t){t[t["one"]=1]="one",t[t["three"]=3]="three",t[t["five"]=5]="five",t["all"]="all"}(v||(v={}));var G,g=function(){function t(e){Object(w["a"])(this,t),this.goodType=e}return Object(S["a"])(t,[{key:"name",get:function(){return this.goodType.toString()}}]),t}();(function(t){t["A"]="A",t["B"]="B",t["C"]="C",t["D"]="D",t["E"]="E",t["F"]="F",t["G"]="G",t["H"]="H",t["I"]="I",t["J"]="J",t["K"]="K",t["L"]="L",t["M"]="M",t["N"]="N",t["Last"]="Last"})(G||(G={}));var k=function(){function t(e,n,r){Object(w["a"])(this,t),this.type=e,this.total=r,this.count=r,this.good=n}return Object(S["a"])(t,[{key:"name",get:function(){return this.type+"赏"}}]),t}(),K=function(){function t(){Object(w["a"])(this,t),this._slots=new Map,this.last=new k(G.Last,new g(y.手办),1),this.lotteryDraw=new _,this.len=0,this.total=0,this.GKLen=0,this.lajiLen=0,this._slots.set(G.A,new k(G.A,new g(y.手办),1)),this._slots.set(G.B,new k(G.B,new g(y.手办),1)),this._slots.set(G.C,new k(G.C,new g(y.手办),1)),this._slots.set(G.D,new k(G.D,new g(y.手办),2)),this._slots.set(G.E,new k(G.E,new g(y.手办),2)),this._slots.set(G.F,new k(G.F,new g(y.时尚小垃圾),28)),this._slots.set(G.G,new k(G.G,new g(y.时尚小垃圾),17)),this._slots.set(G.H,new k(G.H,new g(y.时尚小垃圾),28)),this.numbers()}return Object(S["a"])(t,[{key:"numbers",value:function(){var t=this,e=0,n=0;this.GKLen=0,this.lajiLen=0,this._slots.forEach((function(r){n+=r.total,r.count>0&&(e+=r.count,r.good.goodType==y.手办?t.GKLen+=r.count:t.lajiLen+=r.count)})),this.len=e,this.total=n,this.expectitionGKExec()}},{key:"slots",get:function(){return this._slots.values()}},{key:"addItem",value:function(t){var e=this._slots.get(t);e&&(e.count+=1,e.total+=1),this.numbers()}},{key:"scale",value:function(t){var e=this._slots.get(t);if(e){var n=e.count/this.len;return{scale:n,scaleStr:(100*n).toFixed(2)+"%"}}return{scale:0,scaleStr:"0%"}}},{key:"lotteryDrawFn",value:function(){var t=this.lotteryDraw.lottry(this.slots,this.GKLen,this.lajiLen);t&&t.type&&(this.delGoods(t.type),this.lotteryDraw.updateGKScale(t,this.lotteryDraw.everyOutGoodScale),this.numbers())}},{key:"delGoods",value:function(t){var e=this._slots.get(t);e&&(e.count-=1,this.lotteryDraw.records.unshift("抽中了".concat(e.name).concat(e.good.name)))}},{key:"expectitionGKExec",value:function(){var t=0,e=0;this._slots.forEach((function(n){n.good.goodType==y.手办&&(t+=n.count),e+=n.count}));var n=t/e;this.lotteryDraw.updateScale(e,n)}}]),t}(),_=function(){function t(){Object(w["a"])(this,t),this.GKScale=0,this.概率倍率=1,this.records=[],this.scale=0,this.scaleStr="",this.everyOutGood=0,this.everyOutGoodScale=0,this.everyOutGoodScaleStr=""}return Object(S["a"])(t,[{key:"GKScaleStr",get:function(){return(100*this.GKScale).toFixed(2)+"%"}},{key:"updateGKScale",value:function(t,e){t.good.goodType==y.手办?this.GKScale-=1-e/100:this.GKScale+=e/100}},{key:"lottry",value:function(t,e,n){var r,o,c,a=Math.random(),l=0,u=e+n,i=Object(m["a"])(t);try{for(i.s();!(c=i.n()).done;){var s=c.value;if(0!=s.count){if(l+=s.count/u,0!=this.GKScale){var b=0;s.good.goodType==y.手办?(b=this.GKScale*this.概率倍率/e,l+=b):(b=this.GKScale*this.概率倍率/n,l-=b)}if(console.log("scale",l,a),o=s,!(l<=0)&&a<=l){r=s;break}}}}catch(f){i.e(f)}finally{i.f()}return a>l&&(r=o),console.log(r),r}},{key:"updateScale",value:function(t,e){this.scale=e,this.scaleStr=(100*e).toFixed(2)+"%",this.everyOutGood=t/(t*e),this.everyOutGoodScale=100/this.everyOutGood,this.everyOutGoodScaleStr=this.everyOutGoodScale+"%"}}]),t}(),x=n("5c40"),D={props:{GKScale:{type:Number,required:!0},"概率倍率":{type:Number,required:!0}},setup:function(t){var e=Object(u["l"])(new K),n=function(t){e.addItem(t)};Object(x["F"])((function(){e.lotteryDraw.GKScale=t.GKScale,e.lotteryDraw.概率倍率=t.概率倍率}));var r=function(){window.location.reload()},o=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=0;n<80;n++)e.lotteryDrawFn();case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{msg:"dwqqwd",a:e,addItem:n,refresh:r,loop80:o}}},L=(n("11a1"),n("6b0d")),F=n.n(L);const C=F()(D,[["render",j],["__scopeId","data-v-562c9dc7"]]);var T=C,E={name:"",components:{HelloWorld:T},setup:function(){var t=Object(u["m"])(1),e=Object(u["m"])(1),n=Object(u["m"])(null),r="";Object(x["s"])((function(){r=Object(x["m"])()}));var o=function(){return new Promise((function(t){setTimeout((function(){t(!0)}),50)}))},c=function(){var t=Object(l["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<r.refs.doms.length)){t.next=8;break}return t.next=4,o();case 4:r.refs.doms[e].loop80();case 5:e++,t.next=1;break;case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{GKScale:t,"概率倍率":e,exec:c,doms:n}}};n("5f27");const M=F()(E,[["render",a]]);var P=M;Object(r["b"])(P).mount("#app")},e7ef:function(t,e,n){},ffcb:function(t,e,n){}});
//# sourceMappingURL=app.b7bfa963.js.map